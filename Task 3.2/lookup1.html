<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Task 3.2</title>
    <link href="../framework/css/bootstrap.css" rel="stylesheet" />
    <script src="../framework/js/vue.js"></script>
  </head>
  <style>
    .table th {
      color: white;
    }
  </style>
  <body>
    <h1 class="text-center">Lookup App: Unit Search Filter</h1>
    <div id="app" class="container mt-5">
      <div class="row mb-3">
        <div class="col-md-4">
          <label for="unitCodeFilter">Unit Code:</label>
          <input
            type="text"
            id="unitCodeFilter"
            v-model="unitCode"
            placeholder="E.g: COS20016..."
          />
        </div>
        <div class="col-md-4">
          <label for="unitDescriptionFilter">Unit Description:</label>
          <input
            type="text"
            id="unitDescriptionFilter"
            v-model="unitDescription"
            placeholder="E.g: IT Security"
          />
        </div>
        <div class="col-md-4">
          <div class="form-check">
            <input
              type="radio"
              id="typeCore"
              v-model="unitType"
              value="Core"
              class="form-check-input"
            />
            <label for="unit_type_core" class="form-check-label">Core</label>
          </div>
          <div class="form-check">
            <input
              type="radio"
              id="typeBusiness"
              v-model="unitType"
              value="Software Development"
              class="form-check-input"
            />
            <label for="categorySoftware" class="form-check-label"
              >Software Development</label
            >
          </div>
          <div class="form-check">
            <input
              type="radio"
              id="typeSystem"
              v-model="unitType"
              value="Systems Analysis"
              class="form-check-input"
            />
            <label for="categoryMarketing" class="form-check-label"
              >System Analysis</label
            >
          </div>
          <div class="form-check">
            <input
              type="radio"
              id="typeAll"
              v-model="unitType"
              value="All"
              class="form-check-input"
              checked
            />
            <label for="categoryAll" class="form-check-label">All</label>
          </div>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="bg-dark" id="unit_code" scope="col">Unit codes</th>
              <th class="bg-dark" id="unit_description" scope="col">Units</th>
              <th class="bg-dark" id="credit_points" scope="col">
                Credit points
              </th>
              <th class="bg-dark" id="unit_type" scope="col">Type</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="unit in filteredUnits" :key="unit.code">
              <td>{{ unit.code }}</td>
              <td>{{ unit.desc }}</td>
              <td>{{ unit.cp }}</td>
              <td>{{ unit.type }}</td>
            </tr>
            <tr v-if="units.length === 0">
              <td colspan="4" class="text-center">No results found</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      const { createApp } = Vue;

      createApp({
        data() {
          return {
            units: [
              {
                code: "ICT10001",
                desc: "Problem Solving with ICT",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "COS10005",
                desc: "Web Development",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "INF10003",
                desc: "Introduction to Business Information Systems",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "INF10002",
                desc: "Database Analysis and Design",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "COS10009",
                desc: "Introduction to Programming",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "INF30029",
                desc: "Information Technology Project Management",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "ICT30005",
                desc: "Professional Issues in Information Technology",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "ICT30001",
                desc: "Information Technology Project",
                cp: 12.5,
                type: "Core",
              },
              {
                code: "COS20001",
                desc: "User-Centred Design",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "TNE10005",
                desc: "Network Administration",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "COS20016",
                desc: "Operating System Configuration",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "SWE20001",
                desc: "Development Project 1 - Tools and Practices",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "COS20007",
                desc: "Object Oriented Programming",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "COS30015",
                desc: "IT Security",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "COS30043",
                desc: "Interface Design and Development",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "COS30017",
                desc: "Software Development for Mobile Devices",
                cp: 12.5,
                type: "Software Development",
              },
              {
                code: "INF20012",
                desc: "Enterprise Systems",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "ACC10007",
                desc: "Financial Information for Decision Making",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "INF20003",
                desc: "Requirements Analysis and Modelling",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "ACC20014",
                desc: "Management Decision Making",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "INF30005",
                desc: "Business Process Management",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "INF30003",
                desc: "Business Information Systems Analysis",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "INF30020",
                desc: "Information Systems Risk and Security",
                cp: 12.5,
                type: "Systems Analysis",
              },
              {
                code: "INF30001",
                desc: "Systems Acquisition & Implementation Management",
                cp: 12.5,
                type: "Systems Analysis",
              },
            ],
            unitCode: "",
            unitDescription: "",
            unitType: "All",
          };
        },
        computed: {
          filteredUnits() {
            return this.units.filter((unit) => {
              let matchesCode = unit.code
                .toLowerCase()
                .includes(this.unitCode.toLowerCase());
              let matchesDescription = unit.desc
                .toLowerCase()
                .includes(this.unitDescription.toLowerCase());
              let matchesType =
                this.unitType === "All" || unit.type === this.unitType;
              return matchesCode && matchesDescription && matchesType;
            });
          },
        },
      }).mount("#app");
    </script>
  </body>
</html>
